{"version":3,"sources":["services/upload-files.service.js","pages/Requests/Upload/index.js","pages/Requests/CSVUpload.js","pages/Requests/Entries/index.js","pages/icon.js","pages/Requests/index.js","pages/Request/FusionList/index.js","pages/Request/Header/index.js","pages/Request/PatentCount/index.js","pages/Request/PatentCountResult/index.js","pages/Request/ProcessList/index.js","components/ProgressBar.js","pages/Request/Progress/index.js","pages/Request/RequestSplit/index.js","pages/Request/index.js","pages/GetStarted.js","pages/Home.js","pages/DataIndex.js","pages/Fusions/index.js","index.js"],"names":["file","formData","FormData","append","fetch","method","body","then","response","json","Upload","selectFile","selectedFile","csvUploadInfo","setSelectedHeader","selectedHeader","articleRef","useRef","React","useState","setCounter","draggedover","setDraggedover","selectHeaderOpen","setSelectHeaderOpen","onUploadButtonClick","useCallback","document","getElementById","click","onHiddenInputChange","e","target","files","hasFiles","dataTransfer","types","indexOf","dropHandler","ev","preventDefault","dragEnterHandler","console","log","lastCounter","dragLeaveHandler","newCounter","dragOverHandler","useEffect","article","current","addEventListener","ref","ariaLabel","className","id","xmlns","width","height","viewBox","d","type","onChange","tabindex","class","name","size","Math","round","status","data","headers","aria-haspopup","aria-expanded","aria-labelledby","onClick","fill","aria-hidden","fill-rule","clip-rule","style","maxHeight","role","aria-activedescendant","map","header","data-target","undefined","src","alt","CSVUpload","setCsvUploadInfo","setSelectedFile","upload","UploadService","catch","error","entryTypes","Entries","entryType","entries","requestEntry","requestsEntry","setRequestEntry","setRequestsEntry","changeEntryFromRequests","value","index","prevState","newState","splice","length","push","required","placeholder","request","Icon","stroke","strokeLinecap","strokeLinejoin","strokeWidth","x","y","all_options","description","icon","Requests","setEntryType","directory","setDirectory","options","setOptions","requests","setRequests","p2nAuto","setP2nAuto","history","useHistory","toggleCheckbox","key","includes","filter","getCurrentEnry","r","join","onSubmit","event","p2n_dir","window","location","reload","done","to","in_progress","global_progress","done_step_count","total_step_count","progress_step_count","pattern","title","Object","keys","option","FusionList","fusion_list","start","end","cx","cy","RequestHeader","dir","showLoading","isViewUpdate","setIsViewUpdate","updateView","deleteRequest","cql","requete","rel","href","PatentCount","currentYear","Date","getFullYear","years","Array","from","_","i","PatentCountResult","to_be_found","yearOpen","setYearOpen","year","setYear","to_be_found_amount","useMemo","amount","runSpliter","onSelectYear","need_spliter","aria-label","ProcessList","process_list","hide_result","queue_list","done_list","ProgressBar","max_value","percent","text","progress_lang","Progress","progress","RequestSplit","spliter_result","cumulative","find","Request","useParams","setData","updateData","code","source","EventSource","onmessage","JSON","parse","close","isSpliterRun","state","showPatentCount","showRequestSplit","showPatentCountResult","showProgressList","showFusion","showRequestProgress","GetStarted","action","Id","Home","version","isUpdate","setIsUpdate","update","DataIndex","Fusions","fusions","fusion","content","main","ReactDOM","render","StrictMode","path","exact"],"mappings":"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","file":"static/js/main.9da94e29.chunk.js","sourcesContent":["\r\nclass UploadFilesService {\r\n  upload(file) {\r\n    let formData = new FormData();\r\n\r\n    formData.append(\"file\", file);\r\n\r\n    return fetch(\"http://localhost:5000/api/v1/csv/upload\", {\r\n        method: 'POST',\r\n        body: formData,\r\n    }).then((response) => response.json());\r\n  }\r\n\r\n  getFiles() {\r\n    return fetch(\"http://localhost:5000/api/v1/csv/list\", { method: 'GET' }).then((response) => response.json());\r\n  }\r\n}\r\n\r\nexport default new UploadFilesService();","import React, { useRef } from 'react';\r\nimport './index.css';\r\n\r\nconst Upload = ({ selectFile, selectedFile, csvUploadInfo, setSelectedHeader, selectedHeader }) => {\r\n  \r\n    const articleRef = useRef(null)\r\n    const [counter, setCounter] = React.useState(0)\r\n    const [draggedover, setDraggedover] = React.useState(false)\r\n    const [selectHeaderOpen, setSelectHeaderOpen] = React.useState(false)\r\n    \r\n\r\n    // click the hidden input of type file if the visible button is clicked\r\n    // and capture the selected files\r\n    const onUploadButtonClick = React.useCallback(() => {\r\n        document.getElementById(\"hidden-input\").click();\r\n    }, [])\r\n    \r\n    const onHiddenInputChange = React.useCallback((e) => {\r\n        selectFile(e.target.files[0])\r\n    }, [selectFile]);\r\n    \r\n    const hasFiles = ({ dataTransfer: { types = [] } }) =>\r\n        types.indexOf(\"Files\") > -1;\r\n\r\n    const dropHandler = React.useCallback((ev) => {\r\n        ev.preventDefault();\r\n\r\n        selectFile(ev.dataTransfer.files[0]);\r\n        setDraggedover(false)\r\n        setCounter(0)\r\n\r\n    }, [selectFile])\r\n    \r\n    const dragEnterHandler = React.useCallback((e) => {\r\n        console.log(\"dragEnterHandler\", e)\r\n        e.preventDefault();\r\n        if (!hasFiles(e)) {\r\n        return;\r\n        }\r\n        setCounter(lastCounter => lastCounter + 1)\r\n        setDraggedover(true)\r\n    }, []);\r\n    \r\n    const dragLeaveHandler = React.useCallback((e) => {\r\n        console.log(\"dragLeaveHandler\", e)\r\n        let newCounter = 0;\r\n        setCounter(lastCounter => {\r\n            newCounter = lastCounter - 1;\r\n            return newCounter;\r\n        })\r\n        1 > newCounter && setDraggedover(false);\r\n    }, []);\r\n    \r\n    const dragOverHandler = React.useCallback((e) => {\r\n        console.log(\"dragOverHandler\", e)\r\n        if (hasFiles(e)) {\r\n        e.preventDefault();\r\n        }\r\n    }, [])\r\n\r\n    React.useEffect(() => {\r\n        let article = articleRef.current\r\n        article.addEventListener('dragenter', dragEnterHandler)\r\n        article.addEventListener('dragleave', dragLeaveHandler)\r\n        article.addEventListener('dragover', dragOverHandler)\r\n        article.addEventListener('drop', dropHandler)\r\n    }, [articleRef, dragEnterHandler, dragLeaveHandler, dragOverHandler, dropHandler])\r\n\r\n    return (\r\n        <article ref={articleRef} ariaLabel=\"File Upload Modal\" className=\"relative h-full flex flex-col bg-white\" >\r\n            <div id=\"overlay\" className={\r\n                ((draggedover) ? \"draggedover \" : \"\") + \"w-full h-full absolute top-0 left-0 pointer-events-none z-50 flex flex-col items-center justify-center rounded-md\"\r\n            }>\r\n            <i>\r\n                <svg className=\"fill-current w-12 h-12 mb-3 text-blue-700\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M19.479 10.092c-.212-3.951-3.473-7.092-7.479-7.092-4.005 0-7.267 3.141-7.479 7.092-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408zm-7.479-1.092l4 4h-3v4h-2v-4h-3l4-4z\" />\r\n                </svg>\r\n            </i>\r\n            <p className=\"text-lg text-blue-700\">Drop file to upload</p>\r\n            </div>\r\n\r\n            \r\n\r\n            <section className=\"h-full w-full h-full flex flex-col\">\r\n                <input id=\"hidden-input\" type=\"file\" className={\"hidden\"} onChange={onHiddenInputChange}/>\r\n                { !selectedFile ? (\r\n                    <header className=\"border-dashed border-2 border-gray-400 py-6 flex flex-col justify-center items-center\">\r\n                        <div className=\"w-full text-center flex flex-col items-center justify-center items-center\">\r\n                            <img className=\"mx-auto w-32\" src=\"https://user-images.githubusercontent.com/507615/54591670-ac0a0180-4a65-11e9-846c-e55ffce0fe7b.png\" alt=\"no data\" />\r\n                            <span className=\"text-small text-gray-500\">No file selected</span>\r\n                        </div>\r\n                        <p className=\"mt-2 mb-3 font-semibold text-gray-900 flex flex-wrap justify-center\">\r\n                            <span>Drag and drop your</span>&nbsp;<span>file anywhere or</span>\r\n                        </p>\r\n                        <button id=\"button\" className=\"rounded-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none\" onClick={onUploadButtonClick}>\r\n                        Upload a file\r\n                        </button>\r\n                    </header>\r\n                ) : (\r\n                   \r\n                    <article tabindex=\"0\" class=\"group w-full h-full rounded-md focus:outline-none focus:shadow-outline elative bg-gray-100 cursor-pointer relative shadow-sm\">\r\n                        <div className=\"flex flex-row py-4 px-6 items-center\">\r\n                            <div class=\"flex flex-col break-words\">\r\n                                <h1 class=\"flex-1 group-hover:text-blue-800 text-base\">{selectedFile.name}</h1>\r\n                                <div class=\"flex\">\r\n                                    <span class=\"p-1 text-blue-800\">\r\n                                        <i>\r\n                                        <svg class=\"fill-current w-4 h-4 ml-auto pt-1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                                            <path d=\"M15 2v5h5v15h-16v-20h11zm1-2h-14v24h20v-18l-6-6z\"></path>\r\n                                        </svg>\r\n                                        </i>\r\n                                    </span>\r\n                                    <p class=\"p-1 size text-xs text-gray-700\">\r\n                                        {\r\n                                            selectedFile.size > 1024\r\n                                            ? selectedFile.size > 1048576\r\n                                            ? Math.round(selectedFile.size / 1048576) + \"mb\"\r\n                                            : Math.round(selectedFile.size / 1024) + \"kb\"\r\n                                            : selectedFile.size + \"b\"\r\n                                        }\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"ml-auto\">\r\n                                { csvUploadInfo && csvUploadInfo.status === 'valide' && csvUploadInfo.data.headers && (\r\n                                    <div className=\"relative text-black w-36\">\r\n                                        <button type=\"button\" className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 font-semibold\" aria-haspopup=\"listbox\" aria-expanded=\"true\" aria-labelledby=\"listbox-label\" onClick={() => setSelectHeaderOpen(!selectHeaderOpen)}>\r\n                                            <span className=\"flex items-center\">\r\n                                                <span className=\"ml-3 block truncate\">{ selectedHeader }</span>\r\n                                            </span>\r\n                                            <span className=\"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\r\n                                                <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n                                                <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\r\n                                                </svg>\r\n                                            </span>\r\n                                        </button>\r\n\r\n                                        <ul style={{maxHeight: 200}} className={\"absolute z-10 mt-2 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\" + (!selectHeaderOpen ? \" transition ease-in duration-100 opacity-0\" : \" opacity-100\")} tabindex=\"-1\" role=\"listbox\" aria-labelledby=\"listbox-label\" aria-activedescendant=\"listbox-option-3\">\r\n                                        \r\n                                            { csvUploadInfo.data.headers.map((header) => (\r\n                                                <li className=\"text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9\" id=\"listbox-option-0\" role=\"option\" onClick={() => {\r\n                                                    setSelectedHeader(header);\r\n                                                    setSelectHeaderOpen(false);\r\n                                                }}>\r\n                                                    <div className=\"flex items-center\">\r\n                                                \r\n                                                        <span className=\"font-normal ml-3 block truncate\">\r\n                                                            { header }\r\n                                                        </span>\r\n                                                    </div>\r\n                                                </li>\r\n                                            ))}\r\n                                        </ul>\r\n                                    </div>\r\n                                )} \r\n                            </div>\r\n                            <button class=\"delete focus:outline-none hover:bg-gray-300 p-3 rounded-md text-gray-800\" data-target=\"blob:https://tailwindcomponents.com/479642a1-81dd-47f1-8300-a8d5983a5c5d\" onClick={() => selectFile(undefined)}>\r\n                                <svg class=\"pointer-events-none fill-current w-4 h-4 ml-auto\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                                <path class=\"pointer-events-none\" d=\"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z\"></path>\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                    </article>\r\n\r\n                )}\r\n            </section>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Upload;","import React from 'react'\r\nimport UploadService from '../../services/upload-files.service'\r\nimport Upload from './Upload/index'\r\n\r\nconst CSVUpload = () => {\r\n\r\n    const [csvUploadInfo, setCsvUploadInfo] = React.useState();\r\n    const [selectedFile, setSelectedFile] = React.useState();\r\n    const [selectedHeader, setSelectedHeader] = React.useState();\r\n\r\n    const upload = React.useCallback((file) => {\r\n        setSelectedFile(file)\r\n\r\n        if (file) {\r\n            UploadService.upload(file)\r\n            .then((response) => {\r\n                setCsvUploadInfo({\r\n                    status: 'valide',\r\n                    data: response.data\r\n                })\r\n                setSelectedHeader(response.data.headers[0])\r\n            })\r\n            .catch((error) => {\r\n                setCsvUploadInfo({\r\n                    status: 'error',\r\n                    error: error\r\n                })\r\n                setSelectedHeader(null)\r\n            });    \r\n        }\r\n\r\n    }, [])\r\n\r\n    const selectFile = React.useCallback((file) => {\r\n        upload(file)\r\n    }, [upload])\r\n\r\n    return (\r\n        // <div>\r\n        //     <label className=\"btn btn-default\">\r\n        //         <input type=\"file\" onChange={selectFile} />\r\n        //     </label>\r\n\r\n        //     <button \r\n        //         className=\"btn btn-success\"\r\n        //         disabled={!selectedFiles}\r\n        //         onClick={upload}\r\n        //     >\r\n        //         Upload\r\n        //     </button>\r\n\r\n        //     <div className=\"alert alert-light\" role=\"alert\">\r\n        //         {message}\r\n        //     </div>\r\n\r\n        //     <div className=\"card\">\r\n        //         <div className=\"card-header\">List of Files</div>\r\n        //         <ul className=\"list-group list-group-flush\">\r\n        //             { fileInfos && fileInfos.map((file, index) => (\r\n        //                 <li className=\"list-group-item\" key={index}>\r\n        //                     {file}\r\n        //                 </li>\r\n        //             ))}\r\n        //         </ul>\r\n        //     </div>\r\n        // </div>\r\n        <>\r\n            <div className=\"mt-4 pb-4\">\r\n                <label className=\"text-lg mb-2 font-bold\">Import CSV file</label>\r\n            </div>\r\n            <Upload \r\n                selectFile={selectFile}\r\n                selectedFile={selectedFile}\r\n                csvUploadInfo={csvUploadInfo}\r\n                selectedHeader={selectedHeader}\r\n                setSelectedHeader={setSelectedHeader}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default CSVUpload;","import React from \"react\";\nimport CSVUpload from '../CSVUpload'\n\nconst entryTypes = {\n  REQUEST: 'REQUEST',\n  REQUESTS: 'REQUESTS',\n  CSV: 'CSV'\n}\n\nfunction Entries({ entryType, entries }) {\n\n  const {\n    requestEntry,\n    requestsEntry,\n    setRequestEntry,\n    setRequestsEntry\n  } = entries\n\n  const changeEntryFromRequests = React.useCallback((value, index) => {\n    console.log(value, index)\n    setRequestsEntry((prevState ) => {\n\n      const newState = [...prevState]\n      newState[index] = value;\n\n      if (value === '') {\n        console.log(\"SLICE \" + index )\n        newState.splice(index, 1);\n      }\n\n      console.log(newState.length)\n      if (newState.length <= index + 1) {\n        newState.push(\"\")\n      }\n\n      console.log(newState)\n\n      return newState;\n    })\n  }, [setRequestsEntry])\n\n\n  return (\n    <div className=\"container mx-auto\">\n\n\n      { entryType === entryTypes.REQUEST && (\n        <>\n          <div className=\"mt-4\">\n            <label className=\"text-lg mb-2 font-bold\">Request in CQL format</label>\n            <p className=\"pt-2 pb-2 text-sm italic text-gray-800\">Enter in the textbox a valid espacenet smart search query for your patent research.</p>\n          </div>\n          <div className=\"mb-2\">\n            <input\n              value={requestEntry} \n              onChange={(e) => setRequestEntry(e.target.value)}\n              className=\"px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border border-blueGray-300 outline-none focus:outline-none focus:ring w-full\"\n              type=\"text\"\n              required\n              placeholder=\"TA=lentille\"\n              name=\"p2n_req\"\n              id=\"p2n_reqBtn\"\n            />\n          </div>\n        </>\n      )}\n\n      { entryType === entryTypes.REQUESTS && (\n        <>\n          <div className=\"mt-4\">\n            <label className=\"text-lg mb-2 font-bold\">Requests in CQL format</label>\n            <p className=\"pt-2 pb-2 text-sm italic text-gray-800\">\n              Enter a list of valid espacenet search queries for your patent search in the text box.<br/>\n              The results of all the queries will be combined into a single directory\n            </p>\n          </div>\n          <div className=\"mb-2\">\n            {\n              requestsEntry.map((request, index) => (\n                <input\n                  key={index}\n                  value={request} \n                  onChange={(e) => changeEntryFromRequests(e.target.value, index)}\n                  className=\"mb-2 px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border border-blueGray-300 outline-none focus:outline-none focus:ring w-full\"\n                  type=\"text\"\n                  required={index === 0}\n                  placeholder=\"TA=lentille\"\n                  name=\"p2n_req\"\n                  id=\"p2n_reqBtn\"\n                />\n              ))\n            }\n          </div>\n        </>\n      )}\n\n      { entryType === entryTypes.CSV && (\n        <CSVUpload />\n      )}\n    </div>\n  );\n}\n\nexport default Entries;\n","\nconst Icon = ({ name }) => {\n\n    switch(name) {\n        case \"family\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" viewBox=\"0 0 512 512\"><g><path d=\"M56,88H80a8,8,0,0,0,8-8V56a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8V80A8,8,0,0,0,56,88Zm8-24h8v8H64Z\"/><path d=\"M184,48H104a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M184,72H104a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M184,96H56a8,8,0,0,0,0,16H184a8,8,0,0,0,0-16Z\"/><path d=\"M120,120H56a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Z\"/><path d=\"M476,176H394.12L232,83.36V36A28.031,28.031,0,0,0,204,8H36A28.031,28.031,0,0,0,8,36V148a28.031,28.031,0,0,0,28,28H204a28.031,28.031,0,0,0,28-28V101.79L361.88,176H308a28.031,28.031,0,0,0-28,28V316a28.031,28.031,0,0,0,28,28h50.62L232,432.63V364a28.031,28.031,0,0,0-28-28H36A28.031,28.031,0,0,0,8,364V476a28.031,28.031,0,0,0,28,28H204a28.031,28.031,0,0,0,28-28V452.17L386.52,344H476a28.031,28.031,0,0,0,28-28V204A28.031,28.031,0,0,0,476,176ZM216,148a12.01,12.01,0,0,1-12,12H36a12.01,12.01,0,0,1-12-12V36A12.01,12.01,0,0,1,36,24H204a12.01,12.01,0,0,1,12,12Zm0,328a12.01,12.01,0,0,1-12,12H36a12.01,12.01,0,0,1-12-12V364a12.01,12.01,0,0,1,12-12H204a12.01,12.01,0,0,1,12,12ZM488,316a12.01,12.01,0,0,1-12,12H308a12.01,12.01,0,0,1-12-12V204a12.01,12.01,0,0,1,12-12H476a12.01,12.01,0,0,1,12,12Z\"/><path d=\"M328,256h24a8,8,0,0,0,8-8V224a8,8,0,0,0-8-8H328a8,8,0,0,0-8,8v24A8,8,0,0,0,328,256Zm8-24h8v8h-8Z\"/><path d=\"M456,216H376a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M456,240H376a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M456,264H328a8,8,0,0,0,0,16H456a8,8,0,0,0,0-16Z\"/><path d=\"M392,288H328a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Z\"/><path d=\"M56,416H80a8,8,0,0,0,8-8V384a8,8,0,0,0-8-8H56a8,8,0,0,0-8,8v24A8,8,0,0,0,56,416Zm8-24h8v8H64Z\"/><path d=\"M184,376H104a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M184,400H104a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Z\"/><path d=\"M184,424H56a8,8,0,0,0,0,16H184a8,8,0,0,0,0-16Z\"/><path d=\"M120,448H56a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Z\"/></g></svg>\n            )\n        case \"image\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /> </svg>\n            )\n        case \"network\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" x=\"0px\" y=\"0px\" viewBox=\"0 0 418.026 418.026\"> <path d=\"M275.403,228.092l38.054,7.552c1.337,21.384,19.756,37.634,41.14,36.297c21.384-1.337,37.634-19.756,36.297-41.14 c-1.337-21.384-19.756-37.634-41.14-36.297c-13.863,0.867-26.204,9.079-32.358,21.532l-39.379-7.815 c-0.427-14.916-6.199-29.182-16.263-40.2l53.084-74.988c24.581,10.661,53.15-0.624,63.81-25.204s-0.624-53.15-25.204-63.81 s-53.15,0.624-63.81,25.204c-7.649,17.637-4.163,38.126,8.889,52.24l-52.454,74.1c-25.096-14.084-56.571-9.157-76.162,11.922 l-68.737-53.381c9.076-19.458,0.659-42.588-18.798-51.664c-19.458-9.076-42.588-0.659-51.664,18.798 c-9.076,19.458-0.659,42.588,18.798,51.664c12.623,5.888,27.432,4.572,38.82-3.449l70.419,54.686 c-11.312,24.707-5.322,53.895,14.808,72.148l-42.182,59.655c-24.902-13.883-56.344-4.951-70.227,19.951 c-13.883,24.902-4.951,56.344,19.951,70.227c24.902,13.883,56.344,4.951,70.227-19.951c10.179-18.258,8.343-40.852-4.651-57.227 l43.649-61.735c15.209,6.747,32.485,7.127,47.976,1.055l52.18,77.082c-15.957,18.174-14.159,45.842,4.014,61.798 c18.174,15.957,45.842,14.159,61.798-4.014c15.957-18.174,14.159-45.842-4.014-61.798c-12.496-10.972-30.128-13.919-45.513-7.607 l-51.219-75.662C264.948,250.225,271.853,239.807,275.403,228.092z M352.157,214.428c10.374,0,18.784,8.41,18.784,18.784 c0,10.374-8.41,18.784-18.784,18.784c-10.374,0-18.784-8.41-18.784-18.784C333.382,222.841,341.787,214.436,352.157,214.428z M334.01,20.237c15.674,0.001,28.381,12.708,28.38,28.382s-12.708,28.381-28.382,28.38c-15.674-0.001-28.38-12.707-28.38-28.381 C305.647,32.95,318.343,20.254,334.01,20.237z M66.009,116.54c-10.369-0.012-18.772-8.415-18.784-18.784 c0-10.374,8.41-18.784,18.784-18.784c10.374,0,18.784,8.41,18.784,18.784C84.793,108.13,76.384,116.54,66.009,116.54z M106.363,392.398c-17.388-0.001-31.483-14.096-31.482-31.484c0.001-17.388,14.096-31.483,31.484-31.482 c17.387,0.001,31.482,14.096,31.482,31.483C137.828,378.295,123.743,392.379,106.363,392.398z M323.374,350.449 c13.174,0.015,23.849,10.69,23.864,23.864c0,13.18-10.684,23.864-23.864,23.864c-13.18,0-23.864-10.684-23.864-23.864 C299.51,361.133,310.195,350.449,323.374,350.449z M215.572,252.56c-23.455-0.026-42.463-19.034-42.489-42.489h0 c0-23.466,19.023-42.489,42.489-42.489c23.466,0,42.489,19.023,42.489,42.489C258.061,233.537,239.038,252.56,215.572,252.56z\"/> </svg>\n            )\n        case \"nodes\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" viewBox=\"0 0 64 64\"><path d=\"m34.293 6.293-4.293 4.293-1.293-1.293-1.414 1.414 2 2c.195.195.451.293.707.293s.512-.098.707-.293l5-5z\"/><path d=\"m52 24c.256 0 .512-.098.707-.293l5-5-1.414-1.414-4.293 4.293-1.293-1.293-1.414 1.414 2 2c.195.195.451.293.707.293z\"/><path d=\"m54 46c-2.282 0-4.339.966-5.798 2.504l-15.599-11.432c.882-1.489 1.397-3.22 1.397-5.072 0-.859-.12-1.688-.325-2.484l13.224-4.846c1.333 2.568 4.013 4.33 7.101 4.33 4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8c0 .617.077 1.215.21 1.792l-13.225 4.847c-.985-2.022-2.628-3.659-4.653-4.638l1.899-5.205c.57.13 1.16.204 1.769.204 4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8c0 3.097 1.772 5.782 4.352 7.111l-1.9 5.206c-.786-.2-1.605-.317-2.452-.317-1.616 0-3.139.394-4.492 1.078l-4.403-6.925c1.767-1.469 2.895-3.681 2.895-6.153 0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8c1.223 0 2.378-.284 3.416-.777l4.405 6.93c-2.322 1.833-3.821 4.665-3.821 7.847 0 3.023 1.354 5.732 3.481 7.567l-3.753 5.361c-1.114-.59-2.382-.928-3.728-.928-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8c0-2.347-1.022-4.454-2.637-5.919l3.754-5.363c1.446.813 3.11 1.282 4.883 1.282 2.944 0 5.586-1.286 7.418-3.318l15.596 11.43c-.644 1.153-1.014 2.477-1.014 3.888 0 4.411 3.589 8 8 8s8-3.589 8-8-3.589-8-8-8zm0-31c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6zm-28-5c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6zm-22 0c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6zm12 42c0 3.309-2.691 6-6 6s-6-2.691-6-6 2.691-6 6-6 6 2.691 6 6zm8-12c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm30 20c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z\"/><path d=\"m8 52.586-1.293-1.293-1.414 1.414 2 2c.195.195.451.293.707.293s.512-.098.707-.293l5-5-1.414-1.414z\"/></svg>\n            )\n        case \"archive\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" /> </svg>\n            )\n        case \"map\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" /> </svg>\n            )\n        case \"table\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" /> </svg>\n            )\n        case \"carrot\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" viewBox=\"0 0 512 512\" ><g><path d=\"m280.95 178.016v-2.336c0-8.674 4.952-16.736 12.924-21.042 11.161-6.029 21.928-17.815 29.537-32.333 6.604-12.584 10.193-25.919 10.107-37.549-.099-13.321-4.955-23.176-13.667-27.744-7.416-3.902-16.443-3.272-25.7 1.577-1.036-15.003-4.299-28.017-9.59-38.061-6.974-13.237-17.117-20.528-28.561-20.528s-21.587 7.291-28.561 20.528c-5.29 10.041-8.553 23.047-9.589 38.061-9.256-4.85-18.282-5.479-25.691-1.583-12.125 6.354-16.622 23.118-11.737 43.751.954 4.03 4.993 6.521 9.026 5.57 4.031-.955 6.524-4.996 5.57-9.026-3.083-13.021-1.396-24.127 4.113-27.014 4.146-2.179 11.2.152 18.415 6.085 2.752 2.265 6.467 2.725 9.693 1.202 3.19-1.507 5.251-4.763 5.251-8.324 0-35.237 12.113-54.25 23.51-54.25s23.51 19.013 23.51 54.28c0 3.532 2.062 6.788 5.251 8.294 3.224 1.521 6.938 1.062 9.693-1.202 7.213-5.934 14.27-8.264 18.423-6.081 3.531 1.852 5.587 7.164 5.642 14.575.067 9.075-2.991 20.18-8.392 30.472-6.167 11.768-14.908 21.526-23.38 26.103-12.828 6.927-20.796 20.046-20.796 34.239v1.534c-6.409-.174-13.438-.175-19.9 0v-1.534c0-14.193-7.969-27.312-20.801-34.242-5.622-3.03-11.533-8.48-16.643-15.346-2.473-3.323-7.171-4.01-10.495-1.539-3.323 2.473-4.012 7.172-1.539 10.495 6.484 8.711 13.938 15.487 21.553 19.591 7.971 4.305 12.923 12.367 12.923 21.041v2.336c-42.256 3.495-86.21 18.771-86.21 76.667 0 12.806 2.284 26.2 6.969 38.781l68.283 193.026c5.319 15.258 19.75 25.51 35.909 25.51s30.59-10.252 35.897-25.478l40.734-115.15c1.381-3.905-.665-8.191-4.569-9.572-3.908-1.381-8.191.664-9.572 4.57l-17.983 50.836h-39.467c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h34.161l-17.456 49.346c-3.222 9.24-11.96 15.448-21.745 15.448s-18.523-6.208-21.756-15.48c0 0-68.543-193.777-68.64-194.044h42.019c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-46.124c-1.095-5.838-1.66-11.781-1.66-17.792 0-43.878 28.758-62.6 96.161-62.6s96.161 18.721 96.161 62.6c0 11.542-2.034 22.846-6.045 33.599-.015.04-15.587 44.06-15.587 44.06-1.381 3.905.665 8.19 4.569 9.572 3.906 1.379 8.19-.665 9.572-4.57l15.523-43.882c4.624-12.417 6.968-25.464 6.968-38.779 0-57.897-43.955-73.173-86.211-76.668z\"/><path d=\"m302.185 279.975c0-4.142-3.358-7.5-7.5-7.5h-26.083c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h26.083c4.142 0 7.5-3.358 7.5-7.5z\"/><path d=\"m234.278 344.843c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h43.443c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"/></g></svg>\n            )\n        case \"chart-pie\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\" /> <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z\" /> </svg>\n            )\n        case \"cluster\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\"  viewBox=\"0 0 512 512\"><path d=\"m94.944 369.437h-31.67c-17.819 0-32.317 14.497-32.317 32.317s14.497 32.317 32.317 32.317h31.67c17.819 0 32.317-14.497 32.317-32.317s-14.498-32.317-32.317-32.317zm0 49.56h-31.67c-9.508 0-17.243-7.735-17.243-17.243s7.735-17.243 17.243-17.243h31.67c9.508 0 17.243 7.735 17.243 17.243s-7.735 17.243-17.243 17.243z\"/><path d=\"m130.276 106.994c0-7.888-6.418-14.307-14.306-14.307h-73.721c-7.888 0-14.306 6.418-14.306 14.307v202.225c0 7.888 6.418 14.307 14.306 14.307h73.721c7.888 0 14.306-6.418 14.306-14.307zm-15.074 201.458h-72.185v-200.69h72.185z\"/><path d=\"m64.916 261.082c4.163 0 7.537-3.374 7.537-7.537v-93.198c0-4.163-3.374-7.537-7.537-7.537s-7.537 3.374-7.537 7.537v93.198c0 4.163 3.374 7.537 7.537 7.537z\"/><path d=\"m93.302 261.082c4.163 0 7.537-3.374 7.537-7.537v-68.633c0-4.163-3.374-7.537-7.537-7.537s-7.537 3.374-7.537 7.537v68.633c0 4.163 3.375 7.537 7.537 7.537z\"/><path d=\"m238.047 369.437h-31.669c-17.819 0-32.317 14.497-32.317 32.317s14.497 32.317 32.317 32.317h31.669c17.819 0 32.317-14.497 32.317-32.317s-14.498-32.317-32.317-32.317zm0 49.56h-31.669c-9.508 0-17.243-7.735-17.243-17.243s7.735-17.243 17.243-17.243h31.669c9.508 0 17.243 7.735 17.243 17.243s-7.735 17.243-17.243 17.243z\"/><path d=\"m273.379 106.994c0-7.888-6.418-14.307-14.306-14.307h-73.721c-7.888 0-14.306 6.418-14.306 14.307v202.225c0 7.888 6.418 14.307 14.306 14.307h73.721c7.888 0 14.306-6.418 14.306-14.307zm-15.074 201.458h-72.185v-200.69h72.185z\"/><path d=\"m208.019 261.082c4.163 0 7.537-3.374 7.537-7.537v-93.198c0-4.163-3.374-7.537-7.537-7.537s-7.537 3.374-7.537 7.537v93.198c0 4.163 3.374 7.537 7.537 7.537z\"/><path d=\"m236.406 261.083c4.163 0 7.537-3.374 7.537-7.537v-93.199c0-4.163-3.374-7.537-7.537-7.537s-7.537 3.374-7.537 7.537v93.199c0 4.163 3.374 7.537 7.537 7.537z\"/><path d=\"m511.713 444.597-69.238-403.93c-1.824-10.649-11.97-17.822-22.625-16.005l-117.314 20.11c-1.673.287-3.277.788-4.785 1.472-3.549-5.044-9.404-8.355-16.026-8.355h-119.026c-4.537 0-8.708 1.564-12.033 4.163-3.326-2.602-7.504-4.163-12.044-4.163h-63.352c-4.163 0-7.537 3.374-7.537 7.537s3.374 7.537 7.537 7.537h63.352c2.401 0 4.351 1.885 4.495 4.251-.001.091-.014.18-.014.272v346.16c0 4.163 3.374 7.537 7.537 7.537s7.537-3.374 7.537-7.537v-346.161c0-2.494 2.029-4.522 4.522-4.522h119.026c2.494 0 4.522 2.029 4.522 4.522v409.822c0 2.494-2.029 4.522-4.522 4.522h-119.026c-2.401 0-4.351-1.885-4.495-4.251.001-.091.014-.18.014-.272 0-.266-.014-.528-.041-.786v-28.54c0-4.163-3.374-7.537-7.537-7.537s-7.537 3.374-7.537 7.537v29.327c0 .092.012.18.014.272-.144 2.365-2.094 4.251-4.495 4.251h-119.026c-2.494 0-4.522-2.029-4.522-4.522v-409.823c0-2.494 2.029-4.522 4.522-4.522h20.836c4.163 0 7.537-3.374 7.537-7.537s-3.374-7.537-7.537-7.537h-20.836c-10.805-.001-19.596 8.79-19.596 19.596v409.822c0 10.805 8.791 19.596 19.596 19.596h119.026c4.54 0 8.713-1.566 12.039-4.167 3.326 2.601 7.499 4.167 12.039 4.167h119.026c10.806 0 19.596-8.791 19.596-19.596v-313.623l54.448 317.644c.884 5.16 3.725 9.666 7.998 12.688 3.346 2.367 7.257 3.603 11.274 3.603 1.112 0 2.234-.095 3.353-.287l117.315-20.11c5.159-.884 9.666-3.724 12.688-7.998 3.022-4.272 4.2-9.468 3.315-14.627zm-15.622 5.923c-.697.986-1.737 1.641-2.928 1.845l-117.316 20.11c-1.189.206-2.389-.068-3.375-.765-.986-.698-1.642-1.737-1.846-2.928l-69.238-403.932c-.153-.893-.039-1.798.33-2.615 0 0 0-.001.001-.001.622-1.377 1.878-2.349 3.362-2.604l117.315-20.11c.257-.044.513-.066.766-.066 2.161 0 4.078 1.558 4.455 3.76l69.238 403.931c.205 1.19-.067 2.389-.764 3.375z\"/><path d=\"m432.814 358.824-31.214 5.35c-8.508 1.458-15.939 6.143-20.924 13.191-4.984 7.047-6.927 15.614-5.468 24.121 1.458 8.509 6.142 15.94 13.19 20.924 5.519 3.904 11.968 5.941 18.594 5.941 1.834 0 3.684-.156 5.529-.472l31.214-5.351c8.508-1.458 15.939-6.143 20.924-13.191 4.985-7.047 6.927-15.614 5.469-24.122-3.013-17.562-19.75-29.401-37.314-26.391zm19.537 41.81c-2.66 3.761-6.624 6.259-11.164 7.038l-31.214 5.351c-4.538.778-9.111-.258-12.871-2.918s-6.259-6.624-7.038-11.163c-.778-4.54.258-9.111 2.918-12.871 2.66-3.761 6.625-6.26 11.164-7.038l31.214-5.35c.981-.169 1.958-.25 2.922-.25 8.239 0 15.548 5.942 16.986 14.331.779 4.539-.257 9.111-2.917 12.87z\"/><path d=\"m387.718 312.326c-.704-4.102-4.604-6.857-8.702-6.155l-7.687 1.318-33.906-197.805 71.148-12.195 33.906 197.805-28.978 4.967c-4.103.704-6.858 4.6-6.155 8.703.704 4.102 4.597 6.857 8.702 6.155l29.736-5.098c7.774-1.333 13.015-8.743 11.682-16.518l-34.165-199.317c-.645-3.767-2.719-7.056-5.839-9.263-3.121-2.207-6.914-3.064-10.678-2.421l-72.662 12.456c-7.775 1.333-13.016 8.742-11.683 16.518l34.165 199.317c.645 3.767 2.719 7.057 5.839 9.263 2.443 1.728 5.298 2.63 8.231 2.63.813 0 1.631-.07 2.448-.209l8.443-1.448c4.103-.703 6.859-4.599 6.155-8.703z\"/><path d=\"m366.619 150.385c-4.103.704-6.858 4.6-6.155 8.703l15.746 91.859c.63 3.671 3.816 6.264 7.42 6.264.422 0 .851-.035 1.282-.109 4.103-.704 6.858-4.6 6.155-8.703l-15.746-91.859c-.703-4.102-4.598-6.854-8.702-6.155z\"/><path d=\"m411.608 252.415c.422 0 .851-.035 1.282-.109 4.103-.704 6.858-4.6 6.155-8.703l-15.746-91.859c-.703-4.101-4.594-6.857-8.702-6.155-4.103.704-6.858 4.6-6.155 8.703l15.746 91.859c.629 3.671 3.816 6.264 7.42 6.264z\"/></svg>\n            )\n        case \"infographic\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" viewBox=\"0 0 512.002 512.002\"><path d=\"m479.502 296.834c-14.433 0-26.699 9.457-30.926 22.5h-38.615l-36.565-63.333 36.565-63.334h38.615c11.964 34.739 62.573 27.18 63.426-10-.856-37.187-51.469-44.733-63.426-10h-38.615l-39.452-68.333c-1.786-3.094-5.088-5-8.66-5h-78.905l-39.452-68.333c-1.786-3.094-5.088-5-8.66-5h-84.678c-3.572 0-6.874 1.906-8.66 5l-39.453 68.333h-38.615c-11.963-34.739-62.573-27.179-63.426 10.001.856 37.187 51.469 44.733 63.426 10h38.615l36.566 63.333-36.566 63.334h-38.615c-11.964-34.739-62.573-27.18-63.426 10 .856 37.187 51.469 44.733 63.426 10h38.615l36.566 63.333-36.566 63.333h-38.615c-11.964-34.739-62.573-27.18-63.426 10 .856 37.187 51.469 44.733 63.426 10h38.615l39.453 68.333c1.786 3.094 5.088 5 8.66 5h84.678c3.572 0 6.874-1.906 8.66-5l39.452-68.333h78.904c3.572 0 6.874-1.906 8.66-5l39.452-68.333h38.615c11.847 34.72 62.68 27.123 63.426-10 .001-17.921-14.578-32.501-32.499-32.501zm0-126.666c6.893 0 12.5 5.607 12.5 12.5-.687 16.583-24.316 16.578-25 0 0-6.893 5.607-12.5 12.5-12.5zm-86.861 12.5-36.565 63.333h-73.131l-36.565-63.333 36.566-63.334h73.131zm-360.141-60.834c-6.893 0-12.5-5.607-12.5-12.5.687-16.583 24.316-16.578 25 0 0 6.893-5.607 12.5-12.5 12.5zm123.428-75.833h73.131l36.565 63.333-36.565 63.333h-73.131l-36.566-63.333zm-123.428 222.5c-6.893 0-12.5-5.607-12.5-12.5.687-16.583 24.316-16.578 25 0 0 6.893-5.607 12.5-12.5 12.5zm123.428-75.834h73.131l36.565 63.333-36.565 63.333h-73.131l-36.566-63.333zm-123.428 222.501c-6.893 0-12.5-5.607-12.5-12.5.687-16.583 24.316-16.578 25 0 0 6.892-5.607 12.5-12.5 12.5zm196.559 50.833h-73.131l-36.566-63.333 36.566-63.333h73.131l36.565 63.333zm127.016-73.333h-73.131l-36.565-63.333 36.565-63.333h73.131l36.565 63.333zm123.427-50.834c-6.893 0-12.5-5.607-12.5-12.5.687-16.583 24.316-16.578 25 0 0 6.893-5.607 12.5-12.5 12.5z\"/></svg>\n            )\n        case \"split\":\n            return (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" viewBox=\"0 0 64 64\"> <path d=\"M12 24l-9 8 9 8m40-16l9 8-9 8m-16-8h25M3 32h25\" strokeWidth=\"3\" strokeLinecap=\"10\" strokeLinecap=\"round\" stroke=\"#202020\" fill=\"none\" data-name=\"layer2\" strokeLinejoin=\"round\"></path> <path d=\"M36 10v44m-8-44v44\" strokeWidth=\"3\" strokeLinecap=\"10\" strokeLinecap=\"round\" stroke=\"#202020\" fill=\"none\" data-name=\"layer1\" strokeLinejoin=\"round\"></path> </svg>\n            )\n        default:\n            return null\n    }\n}\n\nexport default Icon;","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport Entries from './Entries/index'\nimport Icon from \"../icon\";\n\nconst all_options = {\n  \"p2n_family\": {\n    name: \"p2n family\",\n    description: \"run family data acquisition\",\n    icon: \"family\"\n  },\n  \"p2n_image\": {\n    name: \"p2n images\",\n    description: \"Fetch images\",\n    icon: \"image\"\n  },\n  \"p2n_network\": {\n    name: \"p2n networks\",\n    description: \"Build various artefacts for data exploration based on network graphs\",\n    icon: \"network\"\n  },\n  \"p2n_freeplane\": {\n    name: \"p2n freeplane\",\n    description: \"Build mind map for Freeplane\",\n    icon: \"nodes\"\n  },\n  \"p2n_bibfile\": {\n    name: \"p2n bibfile\",\n    description: \"Export data in bibfile format\",\n    icon: \"archive\"\n  },\n  \"p2n_map\": {\n    name: \"p2n maps\",\n    description: \"Build maps of country coverage of patents, as well as applicants and inventors\",\n    icon: \"map\"\n  },\n  \"p2n_tables\": {\n    name: \"p2n tables\",\n    description: \"Export various artefacts for tabular data exploration\",\n    icon: \"table\"\n  },\n  \"p2n_carrot\": {\n    name: \"p2n carrot\",\n    description: \"Export data to XML suitable for using in Carro\",\n    icon: \"carrot\"\n  },\n  \"p2n_iramuteq\": {\n    name: \"p2n iramuteq\",\n    description: \"Fetch more data and export it to suitable format for using in Iramuteq\",\n    icon: \"chart-pie\"\n  },\n  \"p2n_cluster\": {\n    name: \"p2n cluster\",\n    description: \"Double clustering system based on non so trivial words\",\n    icon: \"cluster\"\n  },\n}\n\nconst entryTypes = {\n  REQUEST: 'REQUEST',\n  REQUESTS: 'REQUESTS',\n  CSV: 'CSV'\n}\n\nfunction Requests() {\n\n  const [ entryType, setEntryType ] = React.useState(entryTypes.REQUEST);\n\n  const [ requestEntry, setRequestEntry ] = React.useState(\"\");\n  const [ requestsEntry, setRequestsEntry ] = React.useState([\"\"]);\n\n  const [ directory, setDirectory ] = React.useState(\"\");\n  const [ options, setOptions ] = React.useState([\n    \"p2n_content\",\n    \"p2n_gather_biblio\",\n    \"p2n_family\",\n    \"p2n_image\",\n    \"p2n_network\",\n    \"p2n_freeplane\",\n    \"p2n_bibfile\",\n    \"p2n_map\",\n    \"p2n_tables\",\n    \"p2n_carrot\",\n    \"p2n_iramuteq\",\n    \"p2n_cluster\",\n  ]);\n  const [ requests, setRequests ] = React.useState({});\n  const [ p2nAuto, setP2nAuto ] = React.useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n      fetch(\"http://localhost:5000/api/v1/requests\")\n      .then((response) => response.json())\n      .then(function(json) {\n        if (json.data) {\n          setRequests(json.data)\n        }\n      });\n  }, []);\n\n  const toggleCheckbox = React.useCallback((key) => {\n    setOptions((options) => !options.includes(key) ? [...options, key] : [...options.filter((value) => value !== key)] )\n  }, [setOptions])\n\n  \n  const getCurrentEnry = React.useCallback(() => {\n      if (entryType === entryTypes.REQUEST) return requestEntry\n      if (entryType === entryTypes.REQUESTS) return requestsEntry.filter((r) => r).join(',')\n      return null\n    }, [entryType, requestEntry, requestsEntry]\n  )\n  const onSubmit = React.useCallback((event) => {\n    event.preventDefault()\n\n    const data = new FormData();\n    //data.append(\"p2n_req\", entry);// en cours de changement pour entry\n    data.append(\"p2n_entrytype\", entryType)\n    data.append(\"p2n_entry\", getCurrentEnry())\n    data.append(\"p2n_dir\", directory);\n    data.append(\"p2n_options\", options.join(','));\n    data.append(\"p2n_auto\", p2nAuto ? \"true\" : \"false\")\n\n    console.log(data)\n\n    fetch('http://localhost:5000/api/v1/requests', { \n      method: 'POST',\n      body: data\n    })\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(json) {\n      console.log(json)\n      if (entryType === entryTypes.REQUEST) history.push(\"/app/requests/\" + json.data.p2n_dir );\n\n      window.location.reload(false);\n    });\n  }, [directory, options, history, p2nAuto, entryType, getCurrentEnry])\n\n\n  return (\n    <div className=\"container mx-auto grid grid-cols-4 gap-4 items-start\">\n      <div className=\"col-start-1 bg-white p-8 rounded shadow\">\n        \n        <div className=\"mb-6 flex flex-col\">\n          <h3 className=\"text-lg mb-2 font-bold\">Requêtes précédentes</h3>\n\n          { requests.done && requests.done.map((name) => (\n            <Link to={\"/app/requests/\" + name } key={name}>{name}</Link>\n          ))}\n\n          { !requests.done && (\n            <div className=\"grid grid-cols-1 gap-2\">\n              <span className=\"skeleton-box h-5 w-3/5 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-2/5 inline-block\"></span>\n            </div>\n          ) }\n        </div>\n        \n        <hr className=\"mb-3\"/>\n\n        <div className=\"mb-6 flex flex-col\">\n          <h3 className=\"text-lg mb-2 font-bold\">Requêtes en cours</h3>\n          <div className=\"\">\n            <div className=\"relative pt-1\">\n              { requests.in_progress && requests.in_progress.map((name) => (\n                <Link to={\"/app/requests/\" + name} key={name}>\n                  <p className=\"mb-1\">{ name }</p>\n                  {\n                    requests.global_progress && requests.global_progress[name] && (\n                      <div className=\"overflow-hidden h-2 mb-4 text-xs flex rounded bg-orange-200\">\n                        <div \n                          style={{\"width\": (requests.global_progress[name].done_step_count / requests.global_progress[name].total_step_count * 100) + \"%\"}} \n                          className=\"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-indigo-500\"\n                        ></div>\n                        <div \n                          style={{\"width\": (requests.global_progress[name].progress_step_count / requests.global_progress[name].total_step_count * 100) + \"%\"}} \n                          className=\"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-orange-300\"\n                        ></div>\n                      </div>\n                    )\n                  }\n                </Link>\n              ))}\n\n              { !requests.in_progress && (\n                  <div className=\"grid grid-cols-1 gap-2\">\n                    <span className=\"skeleton-box h-5 w-3/5 inline-block\"></span>\n                    <span className=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n                    <span className=\"skeleton-box h-5 w-2/5 inline-block\"></span>\n                  </div>\n                ) }\n            </div>\n          </div>\n        </div>\n      </div>\n        \n      <div className=\"col-span-3 flex flex-col mb-12 bg-white p-8 rounded shadow \">\n        <div className=\"flex justify-between items-center pb-2 flex-wrap\">\n          <h1 className=\"text-4xl font-semibold mb-2 text-gray-900\">Patent2Net toolkit</h1>      \n          <div className='border-bottom flex'>\n            <ul className='flex cursor-pointer bg-gray-200 rounded-lg'>\n                <li onClick={() => setEntryType(entryTypes.REQUEST)} className={'py-2 px-6 rounded-lg' + ((entryType === entryTypes.REQUEST) ? ' bg-indigo-600 text-white' : ' text-gray-500 bg-gray-200')}>One request</li>\n                <li onClick={() => setEntryType(entryTypes.REQUESTS)} className={'py-2 px-6 rounded-lg' + ((entryType === entryTypes.REQUESTS) ? ' bg-indigo-600 text-white' : ' text-gray-500 bg-gray-200')}>Multiple request</li>\n                <li onClick={() => setEntryType(entryTypes.CSV)} className={'py-2 px-6 rounded-lg' + ((entryType === entryTypes.CSV) ? ' bg-indigo-600 text-white' : ' text-gray-500 bg-gray-200')}>CSV</li>\n            </ul>\n          </div>\n        </div>\n       \n        <hr />\n        <div className=\"mt-4\">\n\n          <form onSubmit={onSubmit}>\n\n            <Entries \n              entryType={entryType}\n              entries={{\n                requestEntry,\n                requestsEntry,\n                setRequestEntry,\n                setRequestsEntry\n              }}\n            ></Entries>\n\n            <div className=\"mt-4\">\n              <label className=\"text-lg mb-2 font-bold\">Request Location</label>\n              <p className=\"pb-2 text-sm italic text-gray-800\">Enter in the textbox where your patent research will be stocked.</p>\n            </div>\n            <div className=\"mb-2\">\n              <input \n                value={directory} \n                onChange={(e) => setDirectory(e.target.value)}\n                className=\"px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border border-blueGray-300 outline-none focus:outline-none focus:ring w-full\" \n                type=\"text\" \n                required \n                placeholder=\"lentille\" \n                name=\"p2n_dir\" pattern=\"[A-Za-z0-9_-]{1,}\" \n                title=\"Use only lowercase [a-z], Uppercase [A-Z], Numbers[0-9], Underscore[_] and Hyphen [-]\" \n              />\n            </div>\t\t\t\t\n\n            <div className=\"mt-4\">\n            <label className=\"text-lg mb-2 font-bold\">Request Options</label>\n              <p className=\"pb-2 text-sm italic text-gray-800\">Click on the checkbox to specify the elements you need in your research:</p>\n              \n              <div className=\"grid grid-flow-row grid-cols-3 gap-2\">\n                {Object.keys(all_options).map((key, index) => {\n                  let option = all_options[key]\n                  return (\n                    <div \n                      className={\n                        options.includes(key) ? \n                          \"cursor-pointer box-border flex flex-col justify-center items-center rounded p-3 text-center border-2 border-indigo-600 text-indigo-600\" :\n                          \"cursor-pointer box-border flex flex-col justify-center items-center border rounded p-3 text-center opacity-30\"\n                      }\n                      onClick={() => toggleCheckbox(key)}\n                    >\n                      <div className=\"icon text-black\">\n                        <Icon name={option.icon} />\n                      </div>\n                      <p className=\"text-sm font-semibold pt-2\">{option[\"name\"]}</p>\n                      <p className=\"text-xs pt-1\">{option[\"description\"]}</p>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n            <div className=\"mt-4\">\n              <label className=\"text-lg mb-2 font-bold\">Request splitter</label>\n              <div className=\"w-1/2 pt-2\">\n                <div \n                  className={\n                    p2nAuto ? \n                      \"cursor-pointer box-border flex flex-col justify-center items-center rounded p-3 text-center border-2 border-indigo-600 text-indigo-600\" :\n                      \"cursor-pointer box-border flex flex-col justify-center items-center border rounded p-3 text-center opacity-30\"\n                  }\n                  onClick={() => setP2nAuto(!p2nAuto)}\n                >\n                  <div className=\"icon text-black\">\n                    <Icon name=\"split\" />\n                  </div>\n                  <p className=\"text-sm font-semibold pt-2\">Use auto request spliter</p>\n                  <p className=\"text-xs pt-1\">\n                    It allows to exceed the limit of 2000 patents per request by splitting it into several sub-request\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4 italic text-sm text-gray-800\">\n              Fields marked with * are mandatory.\n            </div>\n            <input \n              className=\"w-64 focus:outline-none px-8 py-2 rounded-md font-semibold text-white bg-indigo-500 cursor-pointer mt-4\"\n              type=\"submit\"\n              value=\"Submit\"\n            />\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Requests;\n","\nconst FusionList = ({ fusion_list }) => (\n    <div className=\"mt-4 p-4 border border-gray-200 rounded\">\n        <div className=\"flex flex-row justify-between items-center\">\n            <p className=\"font-semibold mr-3\">\n                { (!fusion_list.start && !fusion_list.end) && \"La fusion des données va commencer\" }\n                { (fusion_list.start && !fusion_list.end) && \"Les données sont en cours de fusion\" }\n                { (fusion_list.end) && \"La fusion des données est terminé\" }\n            </p>\n            { !fusion_list.end && (\n                <svg className=\"animate-spin -ml-1 h-5 w-5 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n            )}\n        </div>\n    </div>\n)\n\nexport default FusionList","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst RequestHeader = ({ dir, data, showLoading }) => {\n\n    const history = useHistory();\n    const [isViewUpdate, setIsViewUpdate] = React.useState(false);\n\n    const updateView = React.useCallback(() => {\n        setIsViewUpdate(true)\n        fetch('http://localhost:5000/api/v1/requests/' + dir + \"/interface\", { \n            method: 'POST'\n        })\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(json) {\n            setIsViewUpdate(false)\n        });\n    }, [dir])\n\n\n    const deleteRequest = React.useCallback(() => {\n        fetch('http://localhost:5000/api/v1/requests/' + dir, { \n            method: 'DELETE'\n        })\n        .then(function(response) {\n            history.push('/app/requests')\n        })\n    }, [dir, history])\n\n\n    return (\n        <div className=\"pb-4 flex justify-between\">\n            <div className=\"flex items-center\">\n                <Link \n                    to={\"/app/requests\" }\n                    className=\"focus:outline-none p-2 rounded-md font-semibold text-white bg-gray-600\"\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                    </svg>\n                </Link>\n                <div className=\"ml-4\">\n                    <h1 className=\"text-3xl font-semibold leading-7\">{ dir }</h1>\n                    <h2 className=\"text-lg\">{ data.cql && data.cql.requete }</h2>\n                </div>\n            </div>\n            <div className=\"flex items-center\">\n                <button \n                    className=\"focus:outline-none p-2 rounded-md font-semibold text-white bg-red-500 mr-2 flex justify-center items-center\"\n                    onClick={deleteRequest}\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                </button>\n                { \n                    data.done && (\n                        <>\n                            <button \n                                className=\"focus:outline-none p-2 rounded-md font-semibold text-white bg-red-500 mr-2 flex justify-center items-center\"\n                                onClick={updateView}\n                            >\n                                {\n                                    isViewUpdate ? (\n                                        <svg className=\"animate-spin h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                        </svg>\n                                    ) : (\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                                        </svg>\n                                    )\n                                }\n                            </button>\n                            <a \n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                href={\"/DATA/\" + dir + \".html\"} \n                                className=\"focus:outline-none px-8 py-2 rounded-md font-semibold text-white bg-indigo-500\"\n                            >\n                                Voir les données\n                            </a>\n                        </>\n                    ) \n                }\n                {\n                    !data.done && showLoading && (\n                        <div\n                            className=\"focus:outline-none px-4 py-2 rounded-md font-semibold text-white bg-indigo-400 flex justify-center items-center\"\n                        >\n                            <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                            Chargements\n                        </div>\n                    )\n                }\n\n            </div>\n        </div>\n    )\n\n}\n\nexport default RequestHeader;","\nconst PatentCount = () => (\n    <div className=\"mt-4 p-4 border border-gray-200 flex flex-row justify-between rounded\">\n        <p>Verification du nombre de ressource associé à la requete</p>\n        <div>\n            <svg className=\"animate-spin -ml-1 h-5 w-5 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n        </div>\n    </div>\n)\n\nexport default PatentCount","import React from \"react\"\n\nconst currentYear = new Date().getFullYear();\nconst years = Array.from({length: 30}, (_, i) => currentYear - i)\n\nconst PatentCountResult = ({ dir, to_be_found }) => {\n\n    const [yearOpen, setYearOpen] = React.useState(false);\n    const [year, setYear] = React.useState(currentYear)\n\n    const to_be_found_amount = React.useMemo(() => (\n        to_be_found && (to_be_found.amount >= 10000 ? `Plus de 10000` : to_be_found.amount)\n    ), [to_be_found])\n\n    const runSpliter = React.useCallback(() => {\n        const data = new FormData();\n        data.append(\"date\", year);\n\n        fetch('http://localhost:5000/api/v1/requests/' + dir + \"/split\", { \n            method: 'POST',\n            body: data\n        })\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(json) {});\n    }, [year, dir])\n\n    const onSelectYear = React.useCallback((year) => {\n        setYear(year)\n        setYearOpen(false)\n    }, [setYear])\n\n    return (\n        <div className=\"mt-4 p-4 bg-indigo-600 flex flex-row justify-between rounded items-center text-white\">\n            <div>\n                <p className=\"font-bold text-lg\">{to_be_found_amount} éléments ont été trouvés</p>\n                <p className=\"text-sm\">\n                    {\n                        to_be_found.need_spliter ?\n                        \"À partir de quelle année voulez vous récuperer les données ?\" : \n                        \"Il n'est pas necessaire de découper la requete, le traiement va bientôt commencer\"\n                    }\n                </p>\n            </div>\n            {\n                to_be_found.need_spliter && (\n                    <div className=\"flex flex-row mt-1\">\n                        <div className=\"w-32\">\n                            <div>\n                                <div className=\"relative text-black\">\n                                    <button type=\"button\" className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 font-semibold\" aria-haspopup=\"listbox\" aria-expanded=\"true\" aria-labelledby=\"listbox-label\" onClick={() => setYearOpen(!yearOpen)}>\n                                        <span className=\"flex items-center\">\n                                            <span className=\"ml-3 block truncate\">{ year }</span>\n                                        </span>\n                                        <span className=\"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                            <svg className=\"h-5 w-5 text-gray-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                                            <path fill-rule=\"evenodd\" d=\"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n                                            </svg>\n                                        </span>\n                                    </button>\n\n                                    <ul style={{maxHeight: 200}} className={\"absolute z-10 mt-2 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\" + (!yearOpen ? \" transition ease-in duration-100 opacity-0\" : \" opacity-100\")} tabindex=\"-1\" role=\"listbox\" aria-labelledby=\"listbox-label\" aria-activedescendant=\"listbox-option-3\">\n                                    \n                                        { years.map((year) => (\n                                            <li className=\"text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9\" id=\"listbox-option-0\" role=\"option\" onClick={() => onSelectYear(year)}>\n                                                <div className=\"flex items-center\">\n                                            \n                                                    <span className=\"font-normal ml-3 block truncate\">\n                                                        { year }\n                                                    </span>\n                                                </div>\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <button type=\"button\" className=\"bg-green-500 ml-2 px-2 rounded\" aria-label=\"Suivant\" onClick={() => runSpliter()}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\n                            </svg>\n                        </button>\n                    </div>\n                )\n            }\n            \n        </div>\n    )\n\n}\n\nexport default PatentCountResult","\nconst ProcessList = ({ process_list, hide_result }) => (\n    <div className=\"mt-4 p-4 border border-gray-200 rounded\">\n        <div className=\"flex flex-row justify-between items-center\">\n            <p className=\"font-semibold mr-3\">\n                { (!process_list.start && !process_list.end) && \"La récuperation des données va commencer\" }\n                { (process_list.start && !process_list.end) && \"Les données sont en cours de récupération\" }\n                { (process_list.end) && \"La récupération des données est terminé\" }\n            </p>\n            { !process_list.end && (\n                <svg className=\"animate-spin -ml-1 h-5 w-5 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n            )}\n        </div>\n        \n        {\n            !hide_result && (\n                <>\n                    <hr className=\"border-gray-200 my-4\" />\n                    <div>\n                        { process_list.queue_list && process_list.queue_list.map((file) => (\n                            <div className=\"flex flex-row justify-between\">\n                                <p>{file}</p>\n                                <div>\n                                    {\n                                        process_list.done_list.includes(file) && (\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-indigo-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                            </svg>\n                                        )\n                                    }\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )\n        }\n        \n        \n    </div>\n)\n\n\n\nexport default ProcessList","import React from \"react\"\n\nconst ProgressBar = ({ name, value, max_value }) => {\n\n    const percent = React.useMemo(() => (value / max_value * 100) || 0, [value, max_value])\n    const text = value === null || max_value === null ? \"En attente...\" : percent + \"%\"\n\n\n    return (\n        <div className=\"ProgressBar\">\n            <div className=\"flex justify-between\">\n                <p>{ name }</p>\n                <p>{ text }</p>\n            </div>\n            <div className=\"relative pt-1\">\n                <div className=\"overflow-hidden h-2 mb-4 text-xs flex rounded bg-orange-200\">\n                    <div style={{\"width\": percent + \"%\" }} className=\"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-indigo-500\"></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProgressBar","import ProgressBar from \"../../../components/ProgressBar\";\n\nconst progress_lang = {\n    \"p2n_req\": \"Gathering patent list\",\n    \"p2n_family\": \"Gathering patent family\",\n    \"p2n_gather_biblio\": \"Gathering patent metadata\",\n    \"p2n_content\": \"Gathering patent content\",\n    \"p2n_image\": \"Gathering patent content\",\n    \"p2n_network\": \"Patent network\",\n    \"p2n_tables\": \"Patent tables\",\n    \"p2n_carrot\": \"Patent carrot\",\n    \"p2n_iramuteq\": \"Patent iramuteq\",\n    \"p2n_cluster\": \"Patent cluster\",\n}\n\nconst Progress = ({ data }) => (\n    <div className=\"mt-4 p-4 border border-gray-200 rounded\">\n        <div className=\"flex flex-row justify-between items-center\">\n            {\n                (!data.done) && (\n                    <p className=\"font-semibold mr-3\">\n                        { (!data.progress) && \"La requete va bientôt se lancer\" }\n                        { (data.progress) && \"La requete est en cours\" }\n                    </p>\n                )\n            }\n            { (data.done) && (\n                <div className=\"flex-1\">\n                    <p className=\"font-semibold mr-3\">La requete est terminé</p>\n                    {/* <ul className=\"mt-2 flex flex-col w-100\">\n                        { Object.keys(data.cql.options).map((key) => {\n                            const option = data.cql.options[key];\n                            console.log(option)\n\n                            return (\n                                <li className=\"flex-1 flex justify-between\" key={key}>\n                                    <span>{key}</span>\n                                    <span>{option ? (\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-indigo-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                                        </svg>\n                                    ) : (\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                        </svg>\n                                    )}</span>\n                                </li>\n                            )\n                        })}\n                    </ul> */}\n                </div>\n            )}\n            { !data.done && (\n                <svg className=\"animate-spin -ml-1 h-5 w-5 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n            )}\n        </div>\n        {\n            (data.done === false && data.progress && (\n                <>\n                    <hr className=\"border-gray-200 my-4\" />\n                    <div>\n                        {Object.keys(data.progress).map((key, index) => (\n                            <ProgressBar\n                                key={key}\n                                name={progress_lang[key] || key}\n                                value={data.progress[key][\"value\"]}\n                                max_value={data.progress[key][\"max_value\"]}\n                        />\n                        ))}                 \n                    </div>\n                </>\n            ))\n        }\n    </div>\n)\n\nexport default Progress","\nconst RequestSplit = ({spliter_result, hide_result}) => {\n    \n    return (\n        <div className=\"mt-4 p-4 border border-gray-200 rounded\">\n            <div className=\"flex flex-row justify-between\">\n                <div className=\"flex flex-row justify-between items-center\">\n                    <p className=\"font-semibold mr-3\">\n                        { (!spliter_result.start && !spliter_result.end) && \"La séparation de la requete va commencer\" }\n                        { (spliter_result.start && !spliter_result.end) && \"Séparation de la requete en cours\" }\n                        { (spliter_result.end) && \"La séparation de la requete est terminé\" }\n\n                    </p>\n                    { !spliter_result.end && (\n                        <svg className=\"animate-spin -ml-1 h-5 w-5 text-indigo-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                    )}\n                </div>                           \n                <p className=\"font-semibold\">{ (spliter_result.cumulative) ? spliter_result.cumulative : 0 }</p>\n            </div>\n            { spliter_result.requests && !hide_result && (\n                <>\n                    <hr className=\"border-gray-200 my-4\" />\n                    <div>\n                        { spliter_result.requests && spliter_result.requests.map((request) => (\n                            <div className=\"flex flex-row justify-between\">\n                                <p>{request.name}</p>\n                                <p>{request.find}</p>\n                            </div>\n                        ))}\n                    </div>\n                </>\n            )}\n\n        </div>\n    )\n}\n\nexport default RequestSplit","import React from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport FusionList from \"./FusionList\";\nimport RequestHeader from \"./Header\";\nimport PatentCount from \"./PatentCount\";\nimport PatentCountResult from \"./PatentCountResult\";\nimport ProcessList from \"./ProcessList\";\nimport Progress from \"./Progress\";\nimport RequestSplit from \"./RequestSplit\";\n\n\nconst Request = () => {\n    let { dir } = useParams();\n\n    const history = useHistory();\n    const [data, setData] = React.useState({});\n\n    const updateData = React.useCallback(() => {\n        fetch(\"http://localhost:5000/api/v1/requests/\" + dir)\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(json) {\n            if(json.code === 200) {\n                console.log(json.data)\n                setData(json.data)\n            }\n        }).catch(() => {\n            history.push('/app/requests')\n        });\n    }, [dir, history])\n    \n    React.useEffect(() => {\n        updateData()\n    }, [updateData]);\n\n    React.useEffect(() => {\n        console.log(\"Opening the SSE connection\")\n        var source = new EventSource(\"http://localhost:5000/api/v1/listen\");\n        source.onmessage = function(event) {\n            const data = JSON.parse(event.data)\n            console.log(data)\n            if(data.data.directory === dir) {\n                updateData()\n            }\n        }\n        return () => {\n            source.close()\n        }\n    }, [updateData, dir])\n    \n    const isSpliterRun = React.useMemo(() => (\n        data.state === \"SINGLE_REQ_WITH_SPLIT\"\n    ), [data])\n\n    const showPatentCount = React.useMemo(() => (\n        isSpliterRun && data.data && !data.data.to_be_found\n    ), [data, isSpliterRun])\n\n    const showRequestSplit = React.useMemo(() => (\n        isSpliterRun && data.data && data.data.spliter_result\n    ), [data, isSpliterRun])\n\n    const showPatentCountResult = React.useMemo(() => (\n        isSpliterRun && data.data && data.data.to_be_found && !showRequestSplit\n    ), [data, isSpliterRun, showRequestSplit])\n\n    const showProgressList = React.useMemo(() => (\n        isSpliterRun && data.data && data.data.process_list\n    ), [data, isSpliterRun])\n\n    const showFusion = React.useMemo(() => (\n        isSpliterRun && data.data && data.data.fusion_list\n    ), [data, isSpliterRun])\n\n    const to_be_found = React.useMemo(() => showPatentCountResult && data.data.to_be_found, [data, showPatentCountResult])\n\n    const spliter_result = React.useMemo(() => showRequestSplit && data.data.spliter_result, [data, showRequestSplit])\n\n    const process_list = React.useMemo(() => showProgressList && data.data.process_list, [data, showProgressList])\n\n    const fusion_list = React.useMemo(() => showFusion && data.data.fusion_list, [data, showFusion])\n\n    const showRequestProgress = React.useMemo(() => (\n        showFusion && fusion_list.end\n    ), [showFusion, fusion_list])\n\n    return (\n        <div className=\"container mx-auto\">\n            <div className=\"flex justify-center items-center\">\n                <div className=\"flex flex-col w-full lg:w-3/5 mb-12 bg-white p-8 rounded shadow\">\n                    {\n                        data.cql ? (\n                            <>\n                                <RequestHeader dir={dir} data={data} showLoading={!isSpliterRun} />\n                                <hr className=\"border-gray-200\" />\n                                {\n                                    !isSpliterRun ? \n                                    (\n                                        <>\n                                            <Progress data={data} />\n                                        </>\n                                    ) : (\n                                        <>\n                                        {\n                                            showPatentCount && ( <PatentCount /> )\n                                        }\n                                        {\n                                            showPatentCountResult && ( <PatentCountResult dir={dir} to_be_found={to_be_found} /> )\n                                        }\n                                        {\n                                            showRequestSplit && ( <RequestSplit spliter_result={spliter_result} hide_result={showProgressList} /> )\n                                        }\n                                        {\n                                            showProgressList && ( <ProcessList process_list={process_list} hide_result={showFusion}/> )\n                                        }\n                                        {\n                                            showFusion && ( <FusionList fusion_list={fusion_list} /> )\n                                        }\n                                        {\n                                            showRequestProgress && ( <Progress data={data} /> )\n                                        }\n                                        </>\n                                    )\n                                }\n                                \n                            </>\n                        ) : null\n                    }\n                </div>   \n            </div>\n        </div>\n    )   \n}\n\nexport default Request;","\nconst GetStarted = () => {\n    \n    return (\n        <div className=\"container mx-auto\">\n            <div className=\"flex justify-center items-center\">\n                <div className=\"flex flex-col w-full lg:w-3/5 mb-12 bg-white p-8 rounded shadow\">\n                    <div>\n                        <h1 className=\"text-4xl font-semibold mb-2 text-gray-900\">Get Started</h1>\n                        <hr/>\n                        \n                        <div className=\"mt-4\">\n\n                            <h2 className=\"text-lg mb-2 font-bold\" id=\"Register\" >Register the use of P2N</h2>\n                            <hr/>\n\n                            <div className=\"mt-4\">\n                                <p className=\"text-gray-800 text-sm mb-4 text-justify\">You have first to register yourself at Espacenet and get a key to data access. So you must (if you already have it skip this step)\n                                </p>\t\n                                \n                                <ol className=\"list-decimal text-gray-800 text-sm mb-3 text-justify\">\n                                    <li>Go to the Open Patent Services (OPS) by opening the link :<br/> \n                                    <a className=\"hover:underline\" href=\"https://www.epo.org/searching-for-patents/technical/espacenet/ops.html#tab1\"> https://www.epo.org/searching-for-patents/technical/espacenet/ops.html#tab1</a></li>\n                                    <li>Click on the “<b>Register</b>” button and fulfill the form</li>\n                                    <li>Wait until you receive the email confirmation of you register from EPO Developer Portal.</li>\n                                    <li>Log in the EPO Developer Portal :<br /> <a className=\"hover:underline\" href=\" https://developers.epo.org/user/login\">https://developers.epo.org/user/login</a> </li>\n                                    <li>Select the option “<b>My apps</b>”</li>\n                                    <li>Create and register the “<b>Patent2Net</b>” application</li>\n                                    <li> The system returns the API credentials key and secret, similar to that shown bellow (this one is invalid, of course):<br/>\n                                    <pre className=\"code border-dashed border-2 border-orange-600 bg-orange-100\">vmrr7AaAGIl794E6VunJ6PzjbkfajwLW,KHzH4fGM7opMhDDD</pre>\n                                    </li>\n                                    <li>Copy/paste the key in the textbox and click on confirm. It will create a file in your install of Patent2Net who will let you have full use of it. </li>\n                                </ol>\n                                \n                            </div>\n                        </div>\n                        <div className=\"mt-4\">\n                            <form action=\"http://localhost:5000/get_started/stocked\" method=\"post\">\n                                <div>\n                                    <label className=\"font-semibold\">cles-epo * :</label>\n                                    <p className=\"pt-2 pb-2 text-sm italic text-gray-800\">Paste in the textbox the key provided by EPO.</p>\n                                </div>\n                                <div className=\"mb-2\">\n                                    <input className=\"px-3 py-4 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-base border border-blueGray-300 outline-none focus:outline-none focus:ring w-full\" type=\"text\" required placeholder=\"vmrr7AaAGIl794E6VunJ6PzjbkfajwLW,KHzH4fGM7opMhDDD\" name=\"p2n_epo\" />\n                                </div>\n\n                            \n                                <div className=\"mt-4 italic text-sm text-gray-800\">\n                                    Fields marked with * are mandatory.\n                                </div>\n                                <input className=\"w-64 focus:outline-none px-8 py-2 rounded-md font-semibold text-white bg-indigo-500 cursor-pointer mt-4\" type=\"submit\" value=\"confirm\" id=\"pacing\"/>\n                            </form>\n                        </div>\n                    </div>\n                    <div className=\"mt-4\">\n                        <h2 className=\"text-lg mb-2 font-bold\"Id=\"Archive_Content\" >P2N Docker archive content</h2>\n                        <hr/>\n                    </div>\n                    <div className=\"mt-2\">\n                        <div>\n                            <ul className=\"list-disc text-gray-800 text-sm mb-3 mt-3 text-justify \">\n                                <li> <b>Dockerfile</b> : Mandatory for the install of P2N Docker</li>\n                                <li><b>Install_P2N.bat</b> : used to install all the P2N Content in Docker</li>\n                                <li><b>Run_P2N.bat</b> : Used to initiate P2N instance in Docker</li>\n                                <li><b>Stop_P2N.bat</b> : Used to stop P2N instance</li>\n                                <li><b>Copy Docker P2N</b> :\n                                    <ul>\n                                        <li>Copy_Docker_P2N.bat : Create a tar file with all the base content of your docker version</li>\n                                        <li>Load_Docker_P2N.bat : Import the tar file insde docker and create P2N image</li>\n                                    </ul>\n                                </li>\n                                <li><b>P2N_Bash.bat</b> : Create a command prompt instance who interact with P2N Docker. <a href=\"https://docs.ip-tools.org/patent2net/usage/classic.html\"target=\"_blank\" className=\"hover:underline\"><i>Click here for more details.</i></a></li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"mt-4\">\n                        <h2 className=\"text-lg mb-2 font-bold\" Id=\"Interface_Directory\">P2N Interface directories</h2>\n                        <hr/>\n                    </div>\n                    <div className=\"mt-2\">\n                        <div>\n                            <ul className=\"list-disc text-gray-800 text-sm mb-3 mt-3 text-justify \">\n                                <li> <b> Home</b> : Default page. Explain how PatentNet can help you</li>\n                                <li><b>Get Started</b> : Explain how to use P2N Docker</li>\n                                <li><b>Requests</b> : form used to execute requests to the EPO database </li>\n                                <li><b>Index</b> : Display all the results of P2N </li>\n                                <li><b>Download Data</b> : create a zip folder with all the datas contained in Index. Downloaded on your local machine</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default GetStarted;","import React from \"react\"\n\nconst Home = ({version}) => {\n\n    const [isUpdate, setIsUpdate] = React.useState(false)\n\n    const update = React.useCallback(() => {\n        setIsUpdate(true)\n        fetch(\"http://localhost:5000/updateP2N\")\n        .then(function(response) {\n            setIsUpdate(false)\n        })\n    }, [])\n\n    return (\n        <div className=\"container mx-auto\">\n            <div className=\"flex justify-center items-center\">\n                <div className=\"flex flex-col w-full lg:w-3/5 mb-12 bg-white p-8 rounded shadow\">\n                    <h1 className=\"text-4xl font-semibold mb-2 text-gray-900\">Patent2Net Docker Version : <span className=\"font-normal\">{version}</span> </h1>\n                    <hr />\n                    <div className=\"mt-4\">\n                        <div className=\"mt-4\">\n                            <p className=\"text-gray-800 text-sm mb-4 text-justify\">Patent2Net is a toolkit for patent information processing and statistical analysis for education and science.<br/>\n                            Patent2Net helps to collect, study and analyze patent data from the European Patent Office’s Open Patent Services API (OPS). <br/>\n                            Patent2Net is a free software dedicated to :\n                            </p>\t\n                            \n                            <ul className=\"list-disc text-gray-800 text-sm mb-3 text-justify\">\n                                <li>provide statistical analysis and representations of a set of patents.</li>\n                                <li>promote the use of patent information in the academic field, nano and small firms,\n                                developing countries.</li>\n                                <li>study and practice how to collect, treat and communicate “textual bibliographic information”\n                                and learn the automation process.</li>\n                            </ul>\n                            \n                            <p className=\"text-gray-800 text-sm mb-4 text-justify\">Contributions are always welcome!\n                            </p>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div className=\"mt-4\">\n                        <p className=\"text-gray-800 text-sm mb-4 text-justify\">To update your P2N version click on the button : </p>\n                        <button onClick={update} className=\"w-64 focus:outline-none px-8 py-2 rounded-md font-semibold text-white bg-red-500 cursor-pointer mt-4 flex flex-ror justify-center items-center\">\n                            Update P2N\n                            {\n                                isUpdate && (\n                                    <svg className=\"animate-spin ml-1 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                    </svg>\n                                )\n                            }\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Home","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst DataIndex = () => {\n    const [ requests, setRequests ] = React.useState({});\n  \n    React.useEffect(() => {\n        fetch(\"http://localhost:5000/api/v1/requests\")\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(json) {\n          if (json.data) {\n            setRequests(json.data)\n          }\n          console.log(json.data)\n        });\n    }, []);\n    \n    return (\n        <div className=\"container mx-auto\">\n            <div className=\"flex justify-center items-center\">\n                <div className=\"flex flex-col w-full lg:w-3/5 mb-12 bg-white p-8 rounded shadow\">\n                    <div>\n                        <h1 className=\"text-3xl font-semibold mb-2 text-gray-900\">Index</h1>\n                        <hr/>\n                        \n                        <div className=\"mt-4\">\n                            { requests.done && requests.done.map((name) => (\n                                <div key={name}>\n                                    <a rel=\"noreferrer\" target=\"_blank\" href={\"http://localhost:5000/DATA/\" + name + \".html\" } >{name}</a>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default DataIndex","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\n\nfunction Fusions() {\n\n  const [ data, setData ] = React.useState({});\n\n  React.useEffect(() => {\n      fetch(\"http://localhost:5000/api/v1/fusions\")\n      .then(function(response) {\n          return response.json();\n      })\n      .then(function(json) {\n        if (json.data) {\n          setData(json.data)\n        }\n        console.log(json.data)\n      });\n  }, []);\n    \n  return (\n    <div className=\"container mx-auto grid grid-cols-4 gap-4 items-start\">\n      <div className=\"col-start-1 bg-white p-8 rounded shadow\">\n        \n        <div className=\"mb-6 flex flex-col\">\n          <h3 className=\"text-lg mb-2 font-bold\">Fusions terminés</h3>\n\n          { data.fusions && data.fusions.filter(fusion => fusion.done).map((fusion) => (\n            <Link to={\"/app/requests/\" + fusion.content.main } key={fusion.content.main}>{fusion.content.main}</Link>\n          ))}\n\n          { !data.fusions && (\n            <div className=\"grid grid-cols-1 gap-2\">\n              <span className=\"skeleton-box h-5 w-3/5 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-2/5 inline-block\"></span>\n            </div>\n          ) }\n        </div>\n        \n        <hr className=\"mb-3\"/>\n\n        <div className=\"mb-6 flex flex-col\">\n          <h3 className=\"text-lg mb-2 font-bold\">Fusions en cours</h3>\n          <div className=\"\">\n            <div className=\"relative pt-1\">\n              { data.fusions && data.fusions.filter(fusion => fusion.in_progress).map((fusion) => (\n                <Link to={\"/app/requests/\" + fusion.content.main} key={fusion.content.main}>\n                  <p className=\"mb-1\">{ fusion.content.main }</p>\n\n                </Link>\n              ))}\n\n              { !data.fusions && (\n                  <div className=\"grid grid-cols-1 gap-2\">\n                    <span className=\"skeleton-box h-5 w-3/5 inline-block\"></span>\n                    <span className=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n                    <span className=\"skeleton-box h-5 w-2/5 inline-block\"></span>\n                  </div>\n                ) }\n            </div>\n          </div>\n        </div>\n\n        <hr className=\"mb-3\"/>\n\n\n        <div className=\"mb-6 flex flex-col\">\n          <h3 className=\"text-lg mb-2 font-bold\">Fusions en attente</h3>\n\n          { data.fusions && data.fusions.filter(fusion => !fusion.in_progress && !fusion.done).map((fusion) => (\n            <Link to={\"/app/requests/\" + fusion.content.main } key={fusion.content.main}>{fusion.content.main}</Link>\n          ))}\n\n          { !data.fusions && (\n            <div className=\"grid grid-cols-1 gap-2\">\n              <span className=\"skeleton-box h-5 w-3/5 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n              <span className=\"skeleton-box h-5 w-2/5 inline-block\"></span>\n            </div>\n          ) }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Fusions;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\nimport Requests from './pages/Requests/index';\nimport Request from './pages/Request/index';\nimport GetStarted from './pages/GetStarted';\nimport './index.css'\nimport Home from './pages/Home';\nimport DataIndex from './pages/DataIndex';\nimport Fusions from './pages/Fusions';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <nav className=\"bg-indigo-600 p-2 mt-0 w-full z-10 top-0 shadow text-white\">\n        <div className=\"container mx-auto flex flex-wrap items-center\">\n          <div className=\"flex w-full md:w-1/2 justify-center md:justify-start font-extrabold\">\n            <a className=\"no-underline hover:no-underline\" href=\"/\" >\n              <span className=\"text-2xl pl-2\"> Patent2Net</span>\n            </a>\n          </div>\n          <div className=\"flex w-full pt-2 content-center justify-between md:w-1/2 md:justify-end\">\n            <ul className=\"list-reset flex justify-between flex-1 md:flex-none items-center\">\n              <li className=\"mr-3\">\n                <Link to=\"/app/\"  className=\"inline-block no-underline hover:underline py-2 px-4\">Home</Link>\n              </li>\n              \n              <li className=\"mr-3\">\n                <Link to=\"/app/get_started\" className=\"inline-block no-underline hover:underline py-2 px-4\">Get Started</Link>\n              </li>\n              \n              <li className=\"mr-3\">\n                <Link to=\"/app/requests\"  className=\"inline-block py-2 px-4 no-underline font-medium\">Requests</Link>\n              </li>\n\n              <li className=\"mr-3\">\n                <Link to=\"/app/fusions\" className=\"inline-block no-underline hover:underline py-2 px-4\">Fusion</Link>\n              </li>\n\n              <li className=\"mr-3\">\n                <Link to=\"/app/index\" className=\"inline-block no-underline hover:underline py-2 px-4\">Index</Link>\n              </li>\n\n              <li className=\"mr-3\">\n                <a href=\"/doc/_build/html/index.html\" className=\"inline-block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-orange-500 hover:bg-white mt-4 lg:mt-0\">Documentation</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      {/* A <Switch> looks through its children <Route>s and\n          renders the first one that matches the current URL. */}\n      <div className=\"my-10\">\n        <Switch>\n          <Route path=\"/app/get_started\">\n            <GetStarted />\n          </Route>\n          <Route path=\"/app/requests/:dir\">\n            <Request />\n          </Route>\n          <Route path=\"/app/requests\">\n            <Requests />\n          </Route>\n          <Route path=\"/app/fusions\">\n            <Fusions />\n          </Route>\n          <Route path=\"/app/index\">\n            <DataIndex />\n          </Route>\n          <Route exact path=\"/app/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}